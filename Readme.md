# Spring Transactional Propagation Demo

## üìò –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Transactional` —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `propagation` –≤ Spring Framework.  
–û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, —Å–µ—Ä–≤–∏—Å—ã –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–µ —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–∞–≥–ª—è–¥–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–ª–∏—á–∏—è –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π propagation.

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ Propagation –≤ Spring `@Transactional`

| –¢–∏–ø Propagation           | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                |
|---------------------------|---------------------------------------------------------------------------------------------------------|
| `REQUIRED` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å; –∏–Ω–∞—á–µ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é.                                 |
| `REQUIRES_NEW`            | –ü—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏ –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é, –Ω–µ–∑–∞–≤–∏—Å–∏–º—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.         |
| `MANDATORY`               | –¢—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏; –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ—Ç.                       |
| `SUPPORTS`                | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å; –∏–Ω–∞—á–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**.                |
| `NOT_SUPPORTED`           | –ü—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**.                       |
| `NESTED`                  | –ï—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è ‚Äî —Å–æ–∑–¥–∞—ë—Ç **–≤–ª–æ–∂–µ–Ω–Ω—É—é (savepoint)**; –∏–Ω–∞—á–µ –≤–µ    –¥—ë—Ç —Å–µ–±—è –∫–∞–∫ `REQUIRED`. |
| `NEVER`                   | –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è; –∏–Ω–∞—á–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**.      |


---

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **Docker** –∏ **Docker Compose**.

2. –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ñ–∞–π–ª `docker-compose.yml`. –ü–æ–¥–Ω–∏–º–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–æ–π:

   ```bash
   docker-compose up -d
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

    * –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ –≤–∞—à–µ–π IDE (–Ω–∞–ø—Ä–∏–º–µ—Ä, IntelliJ IDEA)
    * –ù–∞–π–¥–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–µ—Ç–æ–¥ `main` –≤ –∫–ª–∞—Å—Å–µ `TransactionalDemoApplication`

---

## üìö Swagger UI

Swagger UI –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å REST-—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:

http://localhost:8080/swagger-ui/index.html

---

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

* Java 17+
* Spring Boot
* Spring Data JPA
* PostgreSQL (–≤ Docker)
* springdoc-openapi (Swagger UI)
* Liquibase (–º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î)


